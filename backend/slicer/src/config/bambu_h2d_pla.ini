# Bambu Lab H2D Printer Profile - PLA Material
# Feature: 002-3d-model-pipeline
# Satisfies: FR-023 (Bambu Lab H2D), FR-024 (PLA profile)

[printer]
printer_model = Bambu Lab H2D
printer_variant = 0.4mm nozzle
bed_shape = 0x0,256x0,256x256,0x256
max_print_height = 256
printer_technology = FFF

[print]
# Layer settings (FR-026)
layer_height = 0.2
first_layer_height = 0.2
perimeters = 3
solid_layers = 5

# Infill (FR-027)
fill_density = 20%
fill_pattern = gyroid

# Speed settings
perimeter_speed = 60
external_perimeter_speed = 40
infill_speed = 80
solid_infill_speed = 60
top_solid_infill_speed = 40
first_layer_speed = 30

# Supports (FR-029)
support_material = 1
support_material_auto = 1
support_material_angle = 45
support_material_interface_layers = 3

[filament]
filament_type = PLA
filament_diameter = 1.75

# Temperature settings (FR-024)
temperature = 200
first_layer_temperature = 200
bed_temperature = 60
first_layer_bed_temperature = 60

# Cooling (PLA requires full cooling)
fan_always_on = 1
min_fan_speed = 100
max_fan_speed = 100
bridge_fan_speed = 100
disable_fan_first_layers = 1

# Retraction
retraction_length = 0.8
retraction_speed = 40
retract_before_travel = 2

# Material properties
filament_density = 1.24
filament_cost = 20.0

[printer_settings]
nozzle_diameter = 0.4
retract_length = 0.8
retract_speed = 40
z_offset = 0

# G-code customization
start_gcode = M104 S200 ; set nozzle temp\nM140 S60 ; set bed temp\nM190 S60 ; wait for bed temp\nM109 S200 ; wait for nozzle temp\nG28 ; home all axes\nG1 Z5 F5000 ; lift nozzle\n
end_gcode = M104 S0 ; turn off nozzle\nM140 S0 ; turn off bed\nG28 X0 Y0 ; home X and Y\nM84 ; disable motors\n
